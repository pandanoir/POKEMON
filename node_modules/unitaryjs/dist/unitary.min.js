'use strict';var __extends=this&&this.__extends||function(c,b){function a(){this.constructor=c}for(var e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);c.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)};function gcd(c,b){return c<b?gcd(b,c):0>c?gcd(-c,b):0>b?gcd(c,-b):0===b?c:gcd(b,c%b)}
function distance(c,b){var a;if(c instanceof Point&&b instanceof Point)return Math.sqrt((c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y));if(c instanceof Point&&b instanceof Line)return a=b.a*c.x+b.b*c.y+b.c,0>a&&(a*=-1),a/=Math.sqrt(b.a*b.a+b.b*b.b);if(c instanceof Line&&b instanceof Point)return distance(b,c)}exports.distance=distance;
var UnitaryObject=function(){function c(){this.style={fillColor:null,strokeColor:null};if(!(this instanceof c))throw Error("Constructor cannot be called as a function.");this.style.fillColor=null;this.style.strokeColor=null}c.prototype.equals=function(b){return this.name()===b.name()};c.prototype.setFillColor=function(b){this.style.fillColor=b;return this};c.prototype.setStrokeColor=function(b){this.style.strokeColor=b;return this};c.prototype.setStyle=function(b){for(var a in b)this.style[a]=b[a];
return this};c.prototype.move=function(b,a){return this};c.prototype.moveX=function(b){return this.move(b,0)};c.prototype.moveY=function(b){return this.move(0,b)};c.prototype.name=function(){return"UnitaryObject"};return c}();exports.UnitaryObject=UnitaryObject;
var Point=function(c){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");c.call(this);this.x=a;this.y=e}__extends(b,c);b.prototype.moveTo=function(a,e){return(new b(a,e)).setStyle(this.style)};b.prototype.move=function(a,e){return(new b(this.x+a,this.y+e)).setStyle(this.style)};b.prototype.rotate=function(a,e){var d=Math.cos(a)*(this.x-e.x)-Math.sin(a)*(this.y-e.y)+e.x,c=Math.sin(a)*(this.y-e.y)+Math.cos(a)*(this.y-e.y)+e.y;return new b(d,c)};b.prototype.toString=
function(){return"("+this.x+", "+this.y+")"};b.prototype.inspect=function(){return"("+this.x+", "+this.y+")"};b.prototype.equals=function(a){return c.prototype.equals.call(this,a)?this.x===a.x&&this.y===a.y:!1};b.prototype.name=function(){return"Point"};return b}(UnitaryObject);exports.Point=Point;
var BaseVector=function(c){function b(a){for(var b=1;b<arguments.length;b++);c.call(this);if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(arguments[0])){this.component=Array(arguments[0].length);for(var b=0,d=arguments[0].length;b<d;b=0|b+1)this.component[b]=arguments[0][b]}else for(this.component=Array(arguments.length),b=0,d=arguments.length;b<d;b=0|b+1)this.component[b]=arguments[b]}__extends(b,c);b.prototype.add=function(a){if(this.component.length!==a.component.length)throw Error("dimention of each vector are different.");
for(var e=Array(this.component.length),d=0,c=this.component.length;d<c;d=0|d+1)e[d]=this.component[d]+a.component[d];return new b(e)};b.prototype.substract=function(a){return this.add(a.multiple(-1))};b.prototype.product=function(a){if(this.component.length!==a.component.length)throw Error("dimention of each vector are different.");for(var b=0,d=0,c=this.component.length;d<c;d=0|d+1)b+=this.component[d]*a.component[d];return b};b.prototype.multiple=function(a){for(var e=Array(this.component.length),
d=0,c=this.component.length;d<c;d=0|d+1)e[d]=a*this.component[d];return new b(e)};b.prototype.abs=function(){for(var a=0,b=0,d=this.component.length;b<d;b=0|b+1)a+=this.component[b]*this.component[b];return Math.sqrt(a)};b.prototype.equals=function(a){if(this.component.length!==a.component.length)return!1;for(var b=0,d=this.component.length;b<d;b=0|b+1)if(this.component[b]!==a.component[b])return!1;return!0};b.prototype.move=function(){for(var a=0;a<arguments.length;a++);for(var a=Array(arguments.length),
e=0,d=arguments.length;e<d;e=0|e+1)a[e]=arguments[e];return this.add(new b(a))};b.prototype.name=function(){return"BaseVector"};return b}(UnitaryObject);exports.BaseVector=BaseVector;
var Vector=function(c){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");2===arguments.length?(c.call(this,arguments[0],arguments[1]),this.x=arguments[0],this.y=arguments[1]):1===arguments.length&&(c.call(this,arguments[0].x,arguments[0].y),this.x=arguments[0].x,this.y=arguments[0].y)}__extends(b,c);b.prototype.add=function(a){a=c.prototype.add.call(this,a);return new b(a.component[0],a.component[1])};b.prototype.substract=function(a){a=c.prototype.substract.call(this,
a);return new b(a.component[0],a.component[1])};b.prototype.multiple=function(a){a=c.prototype.multiple.call(this,a);return new b(a.component[0],a.component[1])};b.prototype.equals=function(a){return c.prototype.equals.call(this,a)?this.x===a.x&&this.y===a.y:!1};b.prototype.move=function(a,e){return new b(this.x+a,this.y+e)};b.prototype.name=function(){return"Vector"};return b}(BaseVector);exports.Vector=Vector;
var Vector3D=function(c){function b(a,e,d){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");3===arguments.length?(c.call(this,arguments[0],arguments[1],arguments[2]),this.x=arguments[0],this.y=arguments[1],this.z=arguments[2]):1===arguments.length&&(c.call(this,arguments[0].x,arguments[0].y,arguments[0].z),this.x=arguments[0].x,this.y=arguments[0].y,this.z=arguments[0].z)}__extends(b,c);b.prototype.add=function(a){a=c.prototype.add.call(this,a);return new b(a.component[0],
a.component[1],a.component[2])};b.prototype.substract=function(a){a=c.prototype.substract.call(this,a);return new b(a.component[0],a.component[1],a.component[2])};b.prototype.multiple=function(a){a=c.prototype.multiple.call(this,a);return new b(a.component[0],a.component[1],a.component[2])};b.prototype.move=function(a,e,d){return new b(this.x+a,this.y+e,this.z+d)};b.prototype.name=function(){return"Vector3D"};return b}(BaseVector);exports.Vector3D=Vector3D;
var Line=function(c){function b(a,e){var d;if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");if(a.equals(e))throw Error("A equals B. So AB couldn't construct line.");c.call(this);this.points=[a,e];this.a=e.y-a.y;this.b=a.x-e.x;this.c=a.x*(a.y-e.y)-a.y*(a.x-e.x);d=gcd(gcd(this.a,this.b),this.c);this.a/=d;this.b/=d;this.c/=d;0===this.a&&(this.c/=this.b,this.b=1);0===this.b&&(this.c/=this.a,this.a=1)}__extends(b,c);b.prototype.move=function(a,e){return(new b(this.points[0].move(a,
e),this.points[1].move(a,e))).setStyle(this.style)};b.prototype.getEquation=function(){var a;a="";var b=this.a,d=this.b,c=this.c;if(0>this.a||0===this.a&&0>this.b)b*=-1,d*=-1,c*=-1;0<b&&1!==b&&(a+="+"+b+"x");1===b&&(a+="+x");0<d&&1!==d&&(a+="+"+d+"y");1===d&&(a+="+y");0>d&&-1!==d&&(a+="-"+-d+"y");-1===d&&(a+="-y");0<c&&(a+="+"+c);0>c&&(a+="-"+-c);"+"===a.charAt(0)&&(a=a.slice(1));return a+"=0"};b.prototype.toString=function(){return this.getEquation()};b.prototype.inspect=function(){return this.getEquation()};
b.prototype.getIntersection=function(a){if(this.a===a.a&&this.b===a.b)return!1;a=(a.a*this.c-this.a*a.c)/(this.a*a.b-a.a*this.b);return new Point(-1*(this.b*a+this.c)/this.a,a)};b.prototype.equals=function(a){return c.prototype.equals.call(this,a)?this.a===a.a&&this.b===a.b&&this.c===a.c:!1};b.prototype.name=function(){return"Line"};return b}(UnitaryObject);exports.Line=Line;
var Segment=function(c){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");this.points=a.x>e.x?[e,a]:[a,e];c.call(this);this.length=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2))}__extends(b,c);b.prototype.move=function(a,e){return(new b(this.points[0].move(a,e),this.points[1].move(a,e))).setStyle(this.style)};b.prototype.has=function(a){var b,d;b=this.points[0];d=this.points[1];return b.x<=a.x&&a.x<=d.x&&(b.y<=d.y&&b.y<=a.y&&a.y<=d.y||b.y>=d.y&&
b.y>=a.y&&a.y>=d.y)&&(b.y-d.y)/(b.x-d.x)*a.x===a.y?!0:!1};b.prototype.intersects=function(a){a=a instanceof Line?this.toLine().getIntersection(a):this.toLine().getIntersection(a.toLine());return!1===a?!1:this.points[0].x<=a.x&&a.x<=this.points[1].x?!0:!1};b.prototype.toLine=function(){return new Line(this.points[0],this.points[1])};b.prototype.equals=function(a){return c.prototype.equals.call(this,a)?this.points[0].equals(a.points[0])&&this.points[1].equals(a.points[1]):!1};b.prototype.name=function(){return"Segment"};
return b}(UnitaryObject);exports.Segment=Segment;
var Circle=function(c){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");c.call(this);this.Origin=this.center=a;this.radius=this.r=e}__extends(b,c);b.prototype.moveTo=function(a,e){return(new b(this.center.moveTo(a,e),this.r)).setStyle(this.style)};b.prototype.move=function(a,e){return(new b(this.center.move(a,e),this.r)).setStyle(this.style)};b.prototype.getEquation=function(){var a="(x";0<this.center.x?a+="-"+this.center.x:0>this.center.x&&(a+="+"+
-this.center.x);a+=")^2+(y";0<this.center.y?a+="-"+this.center.y:0>this.center.y&&(a+="+"+-this.center.y);return a+=")^2="+this.r+"^2"};b.prototype.equals=function(a){return c.prototype.equals.call(this,a)?this.center.equals(a.center)&&this.r===a.r:!1};b.prototype.name=function(){return"Circle"};return b}(UnitaryObject);exports.Circle=Circle;
var CircularSector=function(c){function b(a,e,d,h){void 0===h&&(h=0);if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");c.call(this);this.Origin=this.center=a;this.r=this.radius=e;this.endAngle=d;this.startAngle=h}__extends(b,c);b.prototype.moveTo=function(a,e){return(new b(this.center.moveTo(a,e),this.r,this.endAngle,this.startAngle)).setStyle(this.style)};b.prototype.move=function(a,e){return(new b(this.center.move(a,e),this.r,this.endAngle,this.startAngle)).setStyle(this.style)};
b.prototype.rotate=function(a){return(new b(this.center,this.r,this.endAngle+a,this.startAngle+a)).setStyle(this.style)};b.prototype.equals=function(a){return c.prototype.equals.call(this,a)?this.center.equals(a.center)&&this.r===a.r&&0===(this.startAngle-a.startAngle)%(2*Math.PI)&&0===(this.endAngle-a.endAngle)%(2*Math.PI):!1};b.prototype.name=function(){return"CircularSector"};return b}(UnitaryObject);exports.CircularSector=CircularSector;
var Polygon=function(c){function b(){var a;a=1<=arguments.length?Array.prototype.slice.call(arguments,0):[];if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");c.call(this);"[object Array]"===Object.prototype.toString.call(a[0])?this.points=a[0]:this.points=a}__extends(b,c);b.prototype.equals=function(){return!1};b.prototype.move=function(a,e){for(var d=[],c=0,f=this.points.length;c<f;c++)d[c]=this.points[c].move(a,e);return(new b(d)).setStyle(this.style)};b.prototype.rotate=
function(a,e){for(var d=[],c=0,f=this.points.length;c<f;c++)d[c]=this.points[c].rotate(a,e);return(new b(d)).setStyle(this.style)};b.prototype.has=function(a){var b,d,c;d=this.points[this.points.length-1];for(var f=0,g=0,k=this.points.length;g<k;g++)c=this.points[g],b=(new Vector(c)).substract(new Vector(a)),d=(new Vector(d)).substract(new Vector(a)),b=b.product(d)/(b.abs()*d.abs()),f+=Math.acos(b),d=c;return 360===Math.round(f/(2*Math.PI)*360)};b.prototype.name=function(){return"Polygon"};return b}(UnitaryObject);
exports.Polygon=Polygon;
var Quadrilateral=function(c){function b(a,e,d,h){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");if((new Segment(a,h)).intersects(new Segment(e,d)))throw Error("ABCD is not a quadrilateral.");if(a.equals(e)||a.equals(d)||a.equals(h)||e.equals(d)||e.equals(h)||d.equals(h))throw Error("ABCD is not a quadrilateral.");c.call(this,a,e,d,h)}__extends(b,c);b.prototype.getArea=function(){var a=this.points[0],b=this.points[2],d=this.points[3],c=(new Triangle(a,this.points[1],
b)).getArea(),a=(new Triangle(a,b,d)).getArea();return c+a};b.prototype.move=function(a,e){var d=c.prototype.move.call(this,a,e);return new b(d.points[0],d.points[1],d.points[2],d.points[3])};b.prototype.rotate=function(a,e){var d=c.prototype.rotate.call(this,a,e);return new b(d.points[0],d.points[1],d.points[2],d.points[3])};b.prototype.name=function(){return"Quadrilateral"};return b}(Polygon);exports.Quadrilateral=Quadrilateral;
var Triangle=function(c){function b(a,e,d){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");if(null==a||null==e||null==d)throw Error("Triangle must have three vertices.");if(a.equals(e)||e.equals(d)||a.equals(d))throw Error("Triangle must have three vertices.");c.call(this,a,e,d)}__extends(b,c);b.prototype.getCircumcircle=function(){var a=this.points[0],b=this.points[1],d=this.points[2],c=new Segment(a,b),f=new Segment(b,d),g=new Segment(d,a),k=this.getArea(),a=new Vector(a.x,
a.y),b=new Vector(b.x,b.y),d=new Vector(d.x,d.y),l=Math.pow(f.length,2),m=Math.pow(g.length,2),n=Math.pow(c.length,2),k=(new Vector(0,0)).add(a.multiple(l*(m+n-l))).add(b.multiple(m*(n+l-m))).add(d.multiple(n*(l+m-n))).multiple(1/(16*Math.pow(k,2))),k=new Point(k.x,k.y),c=b.substract(a).product(d.substract(a))/(c.length*g.length),c=Math.sqrt(1-Math.pow(c,2));return new Circle(k,f.length/c/2)};b.prototype.getIncircle=function(){var a=new Vector(this.points[0].x,this.points[0].y),b=new Vector(this.points[1].x,
this.points[1].y),d=new Vector(this.points[2].x,this.points[2].y),c=d.substract(b).abs(),f=d.substract(a).abs(),g=b.substract(a).abs(),a=(new Vector(0,0)).add(a.multiple(c/(c+f+g))).add(b.multiple(f/(c+f+g))).add(d.multiple(g/(c+f+g))),a=new Point(a.x,a.y),c=2*this.getArea()/(c+f+g);return new Circle(a,c)};b.prototype.getCenter=function(){var a=this.points[0],b=this.points[1],d=this.points[2];return new Point((a.x+b.x+d.x)/3,(a.y+b.y+d.y)/3)};b.prototype.getArea=function(){var a=this.points[0],b=
this.points[1],d=this.points[2],c=new Segment(a,b),f=new Segment(a,d),b=new Vector(b.x-a.x,b.y-a.y),a=new Vector(d.x-a.x,d.y-a.y),a=b.product(a)/(c.length*f.length),a=Math.sqrt(1-Math.pow(a,2));return c.length*f.length*a/2};b.prototype.move=function(a,e){var d=c.prototype.move.call(this,a,e);return new b(d.points[0],d.points[1],d.points[2])};b.prototype.rotate=function(a,e){"undefined"===typeof e&&(e=this.getCenter());var d=c.prototype.rotate.call(this,a,e);return new b(d.points[0],d.points[1],d.points[2])};
b.prototype.name=function(){return"Triangle"};return b}(Polygon);exports.Triangle=Triangle;
var Rect=function(c){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");c.call(this,a,e)}__extends(b,c);b.prototype.has=function(a){var b=this.points[0],d=this.points[1];return 0>=(b.x-a.x)*(d.x-a.x)&&0>=(b.y-a.y)*(d.y-a.y)};b.prototype.move=function(a,e){var d=c.prototype.move.call(this,a,e);return new b(d.points[0],d.points[1])};b.prototype.rotate=function(a,e){var d=c.prototype.rotate.call(this,a,e);return new b(d.points[0],d.points[1])};b.prototype.name=
function(){return"Rect"};return b}(Polygon);exports.Rect=Rect;
var Text=function(c){function b(a,e,d,h){void 0===d&&(d="left");void 0===h&&(h=null);if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");c.call(this);this.P=e;this.text=this.string=a;this.strokesOutline=!1;this.style.align=d;this.style.maxWidth=h;this.style.fillColor="#000";this.style.outlineColor="#000";this.style.baseline="alphabetic";this.style.font=null}__extends(b,c);b.prototype.strokeOutline=function(){this.strokesOutline=!0;return this};b.prototype.setAlign=function(a){this.style.align=
a;return this};b.prototype.setOutlineColor=function(a){this.style.outlineColor=a;return this};b.prototype.setBaseline=function(a){this.style.baseline=a;return this};b.prototype.setFont=function(a){this.style.font=a;return this};b.prototype.move=function(a,c){var d=(new b(this.string,this.P.move(a,c),this.style.align,this.style.maxWidth)).setStyle(this.style);this.strokesOutline&&d.strokeOutline();return d};b.prototype.name=function(){return"Text"};return b}(UnitaryObject);exports.Text=Text;
var Image=function(c){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");c.call(this);this.src=a;this.startPoint=e;this.dx=e.x;this.dy=e.y;this.sy=this.sx=this.sh=this.sw=this.dh=this.dw=null}__extends(b,c);b.prototype.trim=function(a,c,d,h,f){void 0===h&&(h=null);void 0===f&&(f=null);var g=new b(this.src,this.startPoint);null==h&&(h=c);null==f&&(f=d);g.sx=a.x;g.sy=a.y;g.sw=c;g.sh=d;g.dw=h;g.dh=f;return g};b.prototype.resize=function(a,c){var d=new b(this.src,
this.startPoint);d.dw=a;d.dh=c;d.sw=this.sw;d.sh=this.sh;d.sx=this.sx;d.sy=this.sy;return d};b.prototype.equals=function(a){return c.prototype.equals.call(this,a)?this.src===a.src&&this.dx===a.dx&&this.dy===a.dy&&this.dw===a.dw&&this.dh===a.dh&&this.sw===a.sw&&this.sh===a.sh&&this.sx===a.sx&&this.sy===a.sy:!1};b.prototype.move=function(a,c){var d=new b(this.src,this.startPoint.move(a,c));null!==this.sx&&(d=d.trim(new Point(this.sx,this.sy),this.sw,this.sh,this.dw,this.dh));return d};b.prototype.name=
function(){return"Image"};return b}(UnitaryObject);exports.Image=Image;var Group=function(c){function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c.call(this);this.group=a}__extends(b,c);b.prototype.name=function(){return"Group"};return b}(UnitaryObject);exports.Group=Group;
var Graph=function(c){function b(a,b){c.call(this);this.f=a;this.scale=b;this.end=this.start=null}__extends(b,c);b.prototype.setRange=function(a,b){this.start=a;this.end=b;return this};b.prototype.equals=function(){return!1};b.prototype.moveX=function(){};b.prototype.moveY=function(){};b.prototype.name=function(){return"Graph"};return b}(UnitaryObject);exports.Graph=Graph;exports.XAxis=new Line(new Point(0,0),new Point(1,0));exports.YAxis=new Line(new Point(0,0),new Point(0,1));exports.VERSION="0.0.5";
